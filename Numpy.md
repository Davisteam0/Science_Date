# Numpy矩阵运算

什么是NumPy？

    NumPy 是 Python 中科学计算的基础包。它是一个 Python 库，提供多种维数组合、各种派生组合（例如代码组合和矩阵）以及用于快速对应数组迁移例子程序，包括数学、总编辑、形状操作、顺序、选择、I/O、离散傅里叶变换、基本线性能代数、基本统计运算、随机模拟等。

NumPy包的核心是ndarray对象。这封装了同构数据类型的n维数值,许多操作在编译代码中执行以提高性能。一个重要的地方：
    NumPy数组在创建时具有固定大小,这与python列表(可以动态增加)不同。
    更改ndarray的大小将创建一个新的数组并删除原始数组

    NumPy 数组中的元素都需要具有相同的数据类型，因此在内存中的大小相同。例外：一个人可以拥有（Python，包括 NumPy）对象的数组，从而允许不同大小元素的数组。

    NumPy 数组有助于对大量数据进行高级数学运算和其他类型的运算。通常，与使用 Python 的内置序列相比，此类操作的执行效率更高，代码更少。

    越来越多的基于 Python 的科学和数学软件包正在使用 NumPy 数组；尽管这些通常支持 Python 序列输入，但它们会在处理之前将此类输入转换为 NumPy 数组，并且它们通常会输出 NumPy 数组。换句话说，为了高效地使用当今大部分（甚至大部分）基于 Python 的科学/数学软件，仅仅知道如何使用 Python 的内置序列类型是不够的——还需要知道如何使用 NumPy 数组。

为什么NumPy快？

    矢量化描述了代码中没有任何显式循环、索引等——当然，这些事情只是在优化的、预编译的 C 代码中“在幕后”发生。矢量化代码有很多优点，其中包括：
        矢量化代码更简洁易读

    更少的代码行通常意味着更少的错误

    代码更类似于标准数学符号（通常更容易正确编码数学结构）

    矢量化会产生更多的“Pythonic”代码。如果没有矢量化，我们的代码将充满低效且难以阅读的for循环。

说明：
    “Pythonic”代码：
        符合Python语言特点和风格的代码。Python语言的设计理念是简洁、易读、易写，因此Pythonic代码应该是简洁易读的。

广播是用于描述操作的隐式逐个元素行为的术语；一般而言，在 NumPy 中，所有运算，不仅是算术运算，还有逻辑运算、按位运算、函数运算等，都以这种隐含的逐元素方式运行，即它们广播。此外，在上面的示例中，aandb可以是相同形状的多维数组，或者标量和数组，甚至是具有不同形状的两个数组，前提是较小的数组可以“扩展”为较大的形状结果广播是明确的一种方式。


还有谁使用 NumPy？

    NumPy 完全支持面向对象的方法，再次从ndarray开始。例如，ndarray是一个类，拥有许多方法和属性。它的许多方法都被最外层的 NumPy 命名空间中的函数所镜像，允许程序员以他们喜欢的任何范式进行编码。这种灵活性使 NumPy 数组方言和 NumPy ndarray类成为Python 中使用的多维数据交换的实际语言。


NumPy快速入门

学习者简介：
    这是对 NumPy 中数组的快速概述。它演示了 n 维 (n >= 2) 数组被表示并且可以被操作。特别是，如果您不知道如何将常用函数应用于 n 维数组（不使用 for 循环），或者如果您想了解 n 维数组的轴和形状属性，本文可能会有所帮助。

学习目标:

    理解 NumPy 中一维、二维和 n 维数组的区别；

    了解如何在不使用 for 循环的情况下将一些线性代数运算应用于 n 维数组；

    了解 n 维数组的轴和形状属性。


NumPy基础知识：
    
数组创建

简介
创建数组有6种通用机制：
    1.从其他python结构(即列表和元组)转换
    2.内在的NumPy数组chauchau创建函数(例如arange、ones、zeros等)
    3.复制、加入或改变现有数组
    4.从磁盘读取数组,无论是标准格式还是自定义格式
    5.通过使用字符串或缓冲区从原始字节创建数组
    6.使用特殊的库函数(例如,随机)

    可以使用以上6种方法来创建ndarray或者结构化数组。

1）将Python序列转换为NumPy数组
NumPy数组可以使用Python序列(例如列表和元组)来定义。列表和元组分别使用[...]和定义(...)。列表和元组可以定义ndarray创建：
    数字列表将创建一维数组
    列表的列表将创建一个二维数组
    进一步的嵌套列表将创建更高维的数组。通常,任何数组对象在NumPy中都称为ndarray。

    a1D = np.array([1, 2, 3, 4])
    a2D = np.array([[1, 2], [3, 4]])
    a3D = np.array([[[1, 2], [3, 4]], [[5, 6], [7, 8]]])

    当你使用numpy.array定义一个新的数组时，你应该考虑数组中元素的数据类型，可以显式指定。此功能使您可以更好地控制底层数据结构以及元素在 C/C++ 函数中的处理方式。如果你不小心分配dtype ，你可能会得到不需要的溢出，这样

        a = np.array([127, 128, 129], dtype=np.int8)
        a
    array([ 127, -128, -127], dtype=int8)

    8 位有符号整数表示从 -128 到 127 的整数。将int8数组分配给此范围之外的整数会导致溢出。此功能经常会被误解。如果您使用 mismatching 执行计算dtypes，您可能会得到不需要的结果，例如：


    a = np.array([2, 3, 4], dtype=np.uint32)
    b = np.array([5, 6, 7], dtype=np.uint32)
    c_unsigned32 = a - b
    print('unsigned c:', c_unsigned32, c_unsigned32.dtype)
    unsigned c: [4294967293 4294967293 4294967293] uint32
    c_signed32 = a - b.astype(np.int32)
    print('signed c:', c_signed32, c_signed32.dtype)
    signed c: [-3 -3 -3] int64


    请注意，当您对两个相同 dtype:的数组执行操作时uint32，结果数组的类型相同。当您使用不同的 执行操作时dtype，NumPy 将分配一个新类型来满足计算中涉及的所有数组元素，此处uint32和int32都可以表示为int64。

    默认的 NumPy 行为是以 32 位或 64 位带符号整数（平台相关并匹配 C int 大小）或双精度浮点数（分别为 int32/int64 和 float）创建数组。如果您希望整数数组是特定类型，则需要在创建数组时指定数据类型。


2) 内在的 NumPy 数组创建函数
   NumPy 有超过 40 个用于创建数组的内置函数，如数组创建例程中所述。根据它们创建的数组的维度，这些函数可以大致分为三类：

    1.一维数组

    2.二维数组

    3.数组

    1 - 一维数组创建函数
    一维数组创建功能，例如numpy.linspace和 numpy.arange通常至少需要两个输入，start和 stop。

    1.numpy.linspace
    numpy.linspace 可以用来创建一个等间距的一维数组，其语法如下：

    numpy.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)

    参数说明：
        start：数组中的起始值。
    stop：数组中的结束值。
    num：要生成的等间距样本数量，默认为 50。
    endpoint：如果为 True，则在数组中包含 stop 值，反之不包含，默认为 True。
    retstep：如果为 True，则返回样本之间的间距。
    dtype：输出数组的数据类型，默认为 None，即自动推断。

    例如，要创建一个包含 10 个等间距元素的数组，其起始值为 0，结束值为 1，可以使用以下代码：
        import numpy as np

        a = np.linspace(0, 1, 10)
        print(a)

    输出：
        [0.         0.11111111 0.22222222 0.33333333 0.44444444 0.55555556
        0.66666667 0.77777778 0.88888889 1.        ]

    2.numpy.arange
    numpy.arange可以用来创建一个等间距的一维数组,其语法如下：

        numpy.arange([start, ]stop, [step, ]dtype=None)

        参数说明：
        
        start：可选，数组中的起始值，默认为 0。
        stop：数组中的结束值，必须指定。
        step：可选，数组中相邻元素之间的间隔，默认为 1。
        dtype：输出数组的数据类型，默认为 None，即自动推断。
    
    例如，要创建一个包含 10 个等间距元素的数组，其起始值为 0，结束值为 1，可以使用以下代码：

    import numpy as np

    a = np.arange(0, 1, 0.1)
    print(a)

    输出：
        [0.  0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9]

    3.numpy.array
    numpy.array可以用来创建一个数组,其语法如下：
        
    numpy.array(object, dtype=None, copy=True, order='K', subok=False, ndmin=0)

    参数说明：

    object：用于创建数组的输入数据，可以是列表、元组、数组、数组类对象、生成器等。
    dtype：输出数组的数据类型，默认为 None，即自动推断。
    copy：可选，表示是否复制输入数据，默认为 True。
    order：可选，表示将数组在内存中存储的顺序，C 表示按行存储，F 表示按列存储，默认为 K，即按照输入数据的顺序存储。
    subok：可选，表示是否返回子类对象，默认为 False。
    ndmin：可选，表示输出数组的最小维度，默认为 0。

    例如，要创建一个包含 3 个元素的一维数组，可以使用以下代码：

    import numpy as np

    a = np.array([1, 2, 3])
    print(a)

    输出：
        [1 2 3]

    np.arange(10)
    array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
    np.arange(2, 10, dtype=float)
    array([2., 3., 4., 5., 6., 7., 8., 9.])
    np.arange(2, 3, 0.1)
    array([2. , 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9])


    注意：
    最佳实践numpy.arange是使用整数开始、结束和步长值。dtype有些微妙之处。在第二个实例中,dtype定义了。在第三个例子中,数组要dtype=float容纳的步长0.1.由于舍入误差,stop有时会包含该值。

    numpy.linspace将创建具有指定数量元素的数值,并在指定的开始值和结束值之间等距间隔。

    np.linspace(1., 4., 6)
    array([1. ,  1.6,  2.2,  2.8,  3.4,  4. ])

    这个创建函数的好处是可以保证元素的数量和起点和终点。previous将不包括value。arange(start,stop,step)stop

    2.二维数组创建函数
    二维数组创建函数,例如numpy.exe,numpy.diag,并numpy.vander定义表示为二维数组的特殊矩阵的属性。

    1.numpy.exe
    numpy.exe 用于计算给定数组中所有元素的指数函数，即 $e^x$，其中 $e$ 是自然数的底数。其语法如下：

    numpy.exe(x, /, out=None, *, where=True, casting='same_kind', order='K', dtype=None, subok=True[, signature, extobj])

    参数说明：

    x：输入数组。
    out：可选，输出数组。
    where：可选，表示在哪些位置进行运算。
    casting：可选，表示执行强制类型转换的规则。
    order：可选，表示在内存中存储数组的顺序。
    dtype：可选，表示输出数组的数据类型。
    subok：可选，表示是否返回子类对象。

    例如，要计算给定数组的指数函数，可以使用以下代码：

    import numpy as np

    a = np.array([1, 2, 3])
    b = np.exp(a)
    print(b)

    输出：
        [ 2.71828183  7.3890561  20.08553692]

    2.numpy.diag
    numpy.diag 用于创建一个对角矩阵或从一个方阵中提取对角线。其语法如下：

    numpy.diag(v, k=0)

    参数说明：

    v：输入数组。
    k：可选，表示对角线的偏移量，默认为 0。
    例如，要创建一个对角矩阵，可以使用以下代码：

    import numpy as np

    a = np.array([1, 2, 3])
    b = np.diag(a)
    print(b)

    输出：
        [[1 0 0]
         [0 2 0]
         [0 0 3]]


    要从一个方阵中提取对角线，可以使用以下代码：

    import numpy as np

    a = np.array([[1, 2], [3, 4]])
    b = np.diag(a)
    print(b)

    [1 4]

    3.numpy.vander
    numpy.vander 用于生成一个 Vandermonde 矩阵。Vandermonde 矩阵是一个 $M \times N$ 的矩阵，其中第 $i$ 行的元素为 $x_i^{N-1}, x_i^{N-2}, \cdots, x_i^1, x_i^0$，其中 $x$ 是输入数组，$N$ 是输出矩阵的列数，$M$ 是输入数组的长度。其语法如下：

    numpy.vander(x, N=None, increasing=False)

    参数说明：

    x：输入数组。
    N：可选，表示输出矩阵的列数，默认为 None，即 N=len(x)。
    increasing：可选，表示每行的元素是否按递增顺序排列，默认为 False。
    例如，要生成一个 Vandermonde 矩阵，可以使用以下代码：

    import numpy as np

    a = np.array([1, 2, 3])
    b = np.vander(a)
    print(b)    

    输出：    
        [[ 1  1  1]
         [ 4  2  1]
         [ 9  3  1]]



    np.eye(n,m)定义二维单位矩阵。i = j(行索引和列索引相等)的元素为1,其余为0,如下：

    np.eye(3)
    array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
    np.eye(3, 5)
    array([[1., 0., 0., 0., 0.],
       [0., 1., 0., 0., 0.],
       [0., 0., 1., 0., 0.]])
    
    numpy.diag可以定义沿对角线具有给定值的方形二维数组，或者如果给定二维数组，则返回仅包含对角线元素的一维数组。这两个数组创建函数在进行线性代数时很有用，如下所示：

    np.diag([1, 2, 3])


3) 复制、加入或改变现有数组

4) 从磁盘读取数组，无论是标准格式还是自定义格式


5) 通过使用字符串或缓冲区从原始字节创建数组
    可以使用多种方法。如果文件的格式相对简单，那么可以编写一个简单的 I/O 库，并使用 NumPy fromfile()函数和.tofile()方法直接读写 NumPy 数组（不过请注意字节顺序！）数据，可以用各种技术包装该库，尽管这肯定需要更多的工作，并且需要更多的高级知识才能与 C 或 C++ 交互。


6) 使用特殊库函数（例如，SciPy、Pandas 和 OpenCV）
    NumPy 是 Python 科学计算堆栈中数组容器的基础库。许多 Python 库，包括 SciPy、Pandas 和 OpenCV，都使用 NumPy ndarrays 作为数据交换的通用格式，这些库可以创建、操作和使用 NumPy 数组。







































































































































































































































































































































































































































































































































































































































































































































































































































Ndarray对象简介
介绍：

    NumPy最终要的一个特点是其N为数组对象ndarray,它是一系列同类型数据的集合,以0下标为开始进行集合中元素的索引

    ndarray对象是用于存放同类型元素的多维数组

    ndarray中的每个元素在内存中都有相同存储大小的区域

组成：

    一个指向数据(内存或内存映射文件中的一块数据)的指针

    数据类型或dtype,描述在数组中的固定大小值的格子

    一个表示数组形状(shape)的元组,表示各维度大小的元组

    一个跨越元组(stride),其中的整数指的是为了前进到当前维度下一个元素需要"快越"

##1数组的基本使用
###1.numpy数据类型：
数据结构

    numpy支持的数据类型比Python内置的类型要多很多,基本上可以和C语言的数据类型对应上,其中部分类型对应为Python内置的类型

    numpy的数值类型实际上是dtype对象的实例,并对应唯一的字符,包括np.bool_,np.int32,np.float32,等等。


数据类型对象(dtype)
数据类型对象是用来描述于数组对应的内存区域如何使用,这依赖于以下几个方面：

    数据的类型(整数,浮点数或者Python对象)

    数据的大小(整数使用多少个字节存储)

    数据的字节顺序(小端法或大端法) [通过对数据类型预先设定"<'或'>"来决定的。"<"意味着小端法(最小值存储在最小的地址,即低位组放在最前面)。">"意味着大端法(最重要的字节存储在最小的地址,即高位组放在最前面)]

    在结构化类型的情况下,字段的名称、每个字段的数据类型和每个字段所取的内存块的部分

    如果数据类型是子数组,它的形状和数据类型。

创建数据类型对象
原型:numpy.dtype(object,align,copy)

    参数                    说明
    object              要转换为的数据类型对象          
    align               如果为true,填充字段使其类似C的结构体
    copy                复制dtype对象,如果为false,则是对内置数据类型对象的引用

基本使用：

2.创建Ndarray数组对象
说明：

array()函数

    原型：numpy.array(object,dtype = None,copy = True, order = None, subok = False, ndmin = 0)

    作用：

    参数                    说明
    object              数组或嵌套的数列
    dtype               数组元素的数据类型,可选
    copy                对象是否需要复制,可选
    order               创建数组的样式,C为行为,F为方向,A为任意方向(默认)
    subok               默认返回一个与基类类型一致的数组
    ndmin               指定生成数组的最小维度





##2.元素操作

##3.数组操作

##4.函数